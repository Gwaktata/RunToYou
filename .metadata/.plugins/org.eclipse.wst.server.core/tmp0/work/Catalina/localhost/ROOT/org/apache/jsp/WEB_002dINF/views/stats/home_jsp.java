/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/8.5.37
 * Generated at: 2022-04-21 03:28:12 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.views.stats;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class home_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(7);
    _jspx_dependants.put("/WEB-INF/lib/spring-webmvc-5.2.5.RELEASE.jar", Long.valueOf(1643080481968L));
    _jspx_dependants.put("/WEB-INF/lib/spring-security-taglibs-5.0.7.RELEASE.jar", Long.valueOf(1644822111181L));
    _jspx_dependants.put("jar:file:/D:/A_TeachingMaterial/7.LastProject/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/final_project/WEB-INF/lib/spring-security-taglibs-5.0.7.RELEASE.jar!/META-INF/security.tld", Long.valueOf(1532606274000L));
    _jspx_dependants.put("jar:file:/D:/A_TeachingMaterial/7.LastProject/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/final_project/WEB-INF/lib/jstl-1.2.jar!/META-INF/fmt.tld", Long.valueOf(1153352682000L));
    _jspx_dependants.put("/WEB-INF/lib/jstl-1.2.jar", Long.valueOf(1643079176937L));
    _jspx_dependants.put("jar:file:/D:/A_TeachingMaterial/7.LastProject/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/final_project/WEB-INF/lib/spring-webmvc-5.2.5.RELEASE.jar!/META-INF/spring-form.tld", Long.valueOf(1585016652000L));
    _jspx_dependants.put("jar:file:/D:/A_TeachingMaterial/7.LastProject/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/final_project/WEB-INF/lib/jstl-1.2.jar!/META-INF/c.tld", Long.valueOf(1153352682000L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = null;
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET POST or HEAD");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("  \r\n");
      out.write("  \r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<script src=\"/resources/js/chart.min.js\"></script>\r\n");
      out.write("<script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js\"></script>\r\n");
      out.write("<link rel=\"stylesheet\" href=\"/resources/css/yearpicker.css\">\r\n");
      out.write("<script src=\"/resources/js/yearpicker.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<style>\r\n");
      out.write(".canvasDiv{\r\n");
      out.write("\tmax-width: 750px;\r\n");
      out.write("\tmax-height: 620px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("input[type=\"date\"]::-webkit-calendar-picker-indicator { \r\n");
      out.write("\r\n");
      out.write("background-image: url(\"../resources/img/calendar-icon.png\");\r\n");
      out.write("} \r\n");
      out.write("\r\n");
      out.write(".weekCanvas{\r\n");
      out.write("\theight: 400px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".white_box{\r\n");
      out.write("\theight: 95%;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("#yearChart{\r\n");
      out.write("\tmargin-top: 10%;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".ui-datepicker table{\r\n");
      out.write("    display: none;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".nav-item{\r\n");
      out.write("width: 5%;\r\n");
      out.write("font-weight: bold;\r\n");
      out.write("\r\n");
      out.write("}\r\n");
      out.write("</style>\r\n");
      out.write("<h2>통계</h2>\r\n");
      out.write("<ul class=\"nav nav-tabs\">\r\n");
      out.write("  <li class=\"nav-item\">\r\n");
      out.write("\t<a class=\"nav-link active stats navBtn\" id=\"patientBtn\" aria-current=\"page\" href=\"#\">환자</a>    \r\n");
      out.write("  </li>\r\n");
      out.write("  <li class=\"nav-item\">\r\n");
      out.write("    <a class=\"nav-link active stats navBtn\" id=\"salesBtn\" aria-current=\"page\" href=\"#\">매출</a>\r\n");
      out.write("  </li>\r\n");
      out.write("  <li class=\"nav-item\">\r\n");
      out.write("    <a class=\"nav-link active stats navBtn\" id=\"diseaseBtn\" aria-current=\"page\" href=\"#\">기타</a>\r\n");
      out.write("  </li>\r\n");
      out.write("<!--   <li class=\"nav-item\"> -->\r\n");
      out.write("<!--     <a class=\"nav-link active stats navBtn\" id=\"symptomBtn\" aria-current=\"page\" href=\"#\">증상</a> -->\r\n");
      out.write("<!--   </li> -->\r\n");
      out.write(" </ul>\r\n");
      out.write(" \r\n");
      out.write("<input id=\"todayPntCnt\" value=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${statsVO.pntCnt}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\" hidden=\"true\"/>\r\n");
      out.write("\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("\r\n");
      out.write("<div class=\"col-12 includeJSP\" id=\"patientJSP\">\r\n");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "patient.jsp", out, true);
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-12 includeJSP\" id=\"salesJSP\" style=\"display: none;\">\r\n");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "sales.jsp", out, true);
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-12 includeJSP\" id=\"diseaseJSP\" style=\"display: none;\">\r\n");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "disease.jsp", out, true);
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-12 includeJSP\" id=\"symptomJSP\" style=\"display: none;\">\r\n");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "symptom.jsp", out, true);
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("\t\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<script>\r\n");
      out.write("//실행되면 nav버튼 클릭되어있고, 환자차트 화면 나오게\r\n");
      out.write("$('.navBtn').css('background', 'white');\r\n");
      out.write("$('#patientBtn').css('background', '#f5dcf7');\r\n");
      out.write("var ct_todayChart = document.getElementById('todayChart').getContext('2d');\r\n");
      out.write("var ct_weekChart = document.getElementById('weekChart').getContext('2d');\r\n");
      out.write("var ct_monthChart = document.getElementById('monthChart').getContext('2d');\r\n");
      out.write("var ct_yearChart = document.getElementById('yearChart').getContext('2d');\r\n");
      out.write("var ct_todaySales = document.getElementById('todaySales').getContext('2d');\r\n");
      out.write("var ct_weekSales = document.getElementById('weekSales').getContext('2d');\r\n");
      out.write("var ct_monthSales = document.getElementById('monthSales').getContext('2d');\r\n");
      out.write("var ct_yearSales = document.getElementById('yearSales').getContext('2d');\r\n");
      out.write("var ct_mainDisease = document.getElementById('mainDisease').getContext('2d');\r\n");
      out.write("var ct_docterSales = document.getElementById('docterSales').getContext('2d');\r\n");
      out.write("\r\n");
      out.write("dayChart_m(ct_todayChart);\r\n");
      out.write("weekChart_m(ct_weekChart);\r\n");
      out.write("monthChart_m(ct_monthChart);\r\n");
      out.write("yearChart_m(ct_yearChart);\r\n");
      out.write("\r\n");
      out.write("var selectDate;\r\n");
      out.write("var sec1,sec2,sec3;\r\n");
      out.write("var amount = [];\r\n");
      out.write("var secAmount = [];\r\n");
      out.write("\r\n");
      out.write("//금일 부서별 환자 수\r\n");
      out.write("function dayChart_m(ct_m,sec){\r\n");
      out.write("\tvar lb = \"\";\r\n");
      out.write("\t\r\n");
      out.write("\tif(!sec){\r\n");
      out.write("\t\tsec1 = ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${todaydeptVO.sec1}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(";\r\n");
      out.write("\t\tsec2 = ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${todaydeptVO.sec2}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(";\r\n");
      out.write("\t\tsec3 = ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${todaydeptVO.sec3}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(";\r\n");
      out.write("\t\tlb = '단위 : 명';\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\tsec1 = sec[0];\r\n");
      out.write("\t\tsec2 = sec[1];\r\n");
      out.write("\t\tsec3 = sec[2];\r\n");
      out.write("\t\tlb = '단위 : 원';\r\n");
      out.write("\t}\r\n");
      out.write("\tvar todayChart = new Chart(ct_m, {\r\n");
      out.write("\t    type: 'horizontalBar',\r\n");
      out.write("\t    data: {\r\n");
      out.write("\t        labels: [\"내과\", \"외과\", \"정형외과\"], \r\n");
      out.write("\t        datasets: [{\r\n");
      out.write("\t            label: lb,\r\n");
      out.write("\t            data: [sec1,sec2,sec3],\r\n");
      out.write("\t            backgroundColor: [\r\n");
      out.write("\t                'rgba(255, 99, 132, 0.2)',\r\n");
      out.write("\t                'rgba(54, 162, 235, 0.2)',\r\n");
      out.write("\t                'rgba(255, 206, 86, 0.2)',\r\n");
      out.write("\t                'rgba(75, 192, 192, 0.2)',\r\n");
      out.write("\t                'rgba(153, 102, 255, 0.2)',\r\n");
      out.write("\t                'rgba(255, 159, 64, 0.2)'\r\n");
      out.write("\t            ],\r\n");
      out.write("\t            borderColor: [\r\n");
      out.write("\t                'rgba(255, 99, 132, 1)',\r\n");
      out.write("\t                'rgba(54, 162, 235, 1)',\r\n");
      out.write("\t                'rgba(255, 206, 86, 1)',\r\n");
      out.write("\t                'rgba(75, 192, 192, 1)',\r\n");
      out.write("\t                'rgba(153, 102, 255, 1)',\r\n");
      out.write("\t                'rgba(255, 159, 64, 1)'\r\n");
      out.write("\t            ],\r\n");
      out.write("\t            borderWidth: 1\r\n");
      out.write("\t        }]\r\n");
      out.write("\t    },\r\n");
      out.write("\t    options: {\r\n");
      out.write("\t        scales: {\r\n");
      out.write("\t            yAxes: [{\r\n");
      out.write("\t                ticks: {\r\n");
      out.write("\t                    beginAtZero: true\r\n");
      out.write("\t                }\r\n");
      out.write("\t            }]\r\n");
      out.write("\t        }\r\n");
      out.write("\t    }\r\n");
      out.write("\t});\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("//최근 일주일 환자 수\r\n");
      out.write("function weekChart_m(ct_w,amount){\r\n");
      out.write("\tvar todayPntCnt = $('#todayPntCnt').val();\r\n");
      out.write("\tvar today_pnt, dayAgo1_pnt, dayAgo2_pnt, dayAgo3_pnt, dayAgo4_pnt, dayAgo5_pnt, dayAgo6_pnt;\r\n");
      out.write("\t\r\n");
      out.write("\tvar week = [");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${week}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("];\r\n");
      out.write("\tvar today = ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${today}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(";\r\n");
      out.write("\tvar lb = \"\";\r\n");
      out.write("\t\r\n");
      out.write("\tif(!amount){\r\n");
      out.write("\t\ttoday_pnt = ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${statsVO.today}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(";\r\n");
      out.write("\t\tdayAgo1_pnt = ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${statsVO.dayAgo1}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(";\r\n");
      out.write("\t\tdayAgo2_pnt = ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${statsVO.dayAgo2}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(";\r\n");
      out.write("\t\tdayAgo3_pnt = ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${statsVO.dayAgo3}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(";\r\n");
      out.write("\t\tdayAgo4_pnt = ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${statsVO.dayAgo4}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(";\r\n");
      out.write("\t\tdayAgo5_pnt = ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${statsVO.dayAgo5}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(";\r\n");
      out.write("\t\tdayAgo6_pnt = ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${statsVO.dayAgo6}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(";\r\n");
      out.write("\t\tlb = '단위 : 명';\r\n");
      out.write("\t\t\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\ttoday_pnt = amount[0];\r\n");
      out.write("\t\tdayAgo1_pnt = amount[1];\r\n");
      out.write("\t\tdayAgo2_pnt = amount[2];\r\n");
      out.write("\t\tdayAgo3_pnt = amount[3];\r\n");
      out.write("\t\tdayAgo4_pnt = amount[4];\r\n");
      out.write("\t\tdayAgo5_pnt = amount[5];\r\n");
      out.write("\t\tdayAgo6_pnt = amount[6];\r\n");
      out.write("\t\tlb = ' 단위 : 원';\r\n");
      out.write("\t}\r\n");
      out.write("var weekChart = new Chart(ct_w, {\r\n");
      out.write("    type: 'bar',\r\n");
      out.write("    data: {\r\n");
      out.write("        labels: [\"오늘\", week[0][0], week[0][1], week[0][2],week[0][3],week[0][4],week[0][5]], //월화수목금토일\r\n");
      out.write("        datasets: [{\r\n");
      out.write("            label: lb,\r\n");
      out.write("            data: [today_pnt, dayAgo1_pnt, dayAgo2_pnt, dayAgo3_pnt, dayAgo4_pnt, dayAgo5_pnt, dayAgo6_pnt],\r\n");
      out.write("            backgroundColor: [\r\n");
      out.write("                'rgba(255, 99, 132, 0.2)',\r\n");
      out.write("                'rgba(54, 162, 235, 0.2)',\r\n");
      out.write("                'rgba(255, 206, 86, 0.2)',\r\n");
      out.write("                'rgba(75, 192, 192, 0.2)',\r\n");
      out.write("                'rgba(153, 102, 255, 0.2)',\r\n");
      out.write("                'rgba(255, 159, 64, 0.2)'\r\n");
      out.write("            ],\r\n");
      out.write("            borderColor: [\r\n");
      out.write("                'rgba(255, 99, 132, 1)',\r\n");
      out.write("                'rgba(54, 162, 235, 1)',\r\n");
      out.write("                'rgba(255, 206, 86, 1)',\r\n");
      out.write("                'rgba(75, 192, 192, 1)',\r\n");
      out.write("                'rgba(153, 102, 255, 1)',\r\n");
      out.write("                'rgba(255, 159, 64, 1)'\r\n");
      out.write("            ],\r\n");
      out.write("            borderWidth: 1\r\n");
      out.write("        }]\r\n");
      out.write("    },\r\n");
      out.write("    options: {\r\n");
      out.write("        scales: {\r\n");
      out.write("            yAxes: [{\r\n");
      out.write("                ticks: {\r\n");
      out.write("                    beginAtZero: true\r\n");
      out.write("                }\r\n");
      out.write("            }]\r\n");
      out.write("        }\r\n");
      out.write("    }\r\n");
      out.write("});\r\n");
      out.write("};\t\r\n");
      out.write("\r\n");
      out.write("// 월별 환자 수\r\n");
      out.write("function monthChart_m(ct_m,secAmount){\r\n");
      out.write("\tif(!secAmount){\r\n");
      out.write("\t\t sec1 = ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${monthVO.sec1}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(";\r\n");
      out.write("\t\t sec2 = ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${monthVO.sec2}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(";\r\n");
      out.write("\t\t sec3 = ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${monthVO.sec3}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(";\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\tsec1 = secAmount[0];\r\n");
      out.write("\t\tsec2 = secAmount[1];\r\n");
      out.write("\t\tsec3 = secAmount[2];\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\tvar monthChart = new Chart(ct_m, {\r\n");
      out.write("\t    type: 'pie',\r\n");
      out.write("\t    data: {\r\n");
      out.write("\t        labels: [\"내과\", \"외과\", \"정형외과\"],\r\n");
      out.write("\t        datasets: [{\r\n");
      out.write("\t            label: '# of Votes',\r\n");
      out.write("\t            data: [sec1,sec2,sec3],\r\n");
      out.write("\t            backgroundColor: [\r\n");
      out.write("\t                'rgba(255, 99, 132, 0.2)',\r\n");
      out.write("\t                'rgba(54, 162, 235, 0.2)',\r\n");
      out.write("\t                'rgba(255, 206, 86, 0.2)',\r\n");
      out.write("\t                'rgba(75, 192, 192, 0.2)',\r\n");
      out.write("\t                'rgba(153, 102, 255, 0.2)',\r\n");
      out.write("\t                'rgba(255, 159, 64, 0.2)'\r\n");
      out.write("\t            ],\r\n");
      out.write("\t            borderColor: [\r\n");
      out.write("\t                'rgba(255, 99, 132, 1)',\r\n");
      out.write("\t                'rgba(54, 162, 235, 1)',\r\n");
      out.write("\t                'rgba(255, 206, 86, 1)',\r\n");
      out.write("\t                'rgba(75, 192, 192, 1)',\r\n");
      out.write("\t                'rgba(153, 102, 255, 1)',\r\n");
      out.write("\t                'rgba(255, 159, 64, 1)'\r\n");
      out.write("\t            ],\r\n");
      out.write("\t            borderWidth: 1\r\n");
      out.write("\t        }]\r\n");
      out.write("\t    },\r\n");
      out.write("\t    options: {\r\n");
      out.write("\t        scales: {\r\n");
      out.write("\t            yAxes: [{\r\n");
      out.write("\t                ticks: {\r\n");
      out.write("\t                    beginAtZero: true\r\n");
      out.write("\t                }\r\n");
      out.write("\t            }]\r\n");
      out.write("\t        }\r\n");
      out.write("\t    }\r\n");
      out.write("\t});\r\n");
      out.write("};  \r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("// 연간 환자 수\r\n");
      out.write("function yearChart_m(ct_m, res){\r\n");
      out.write("\tvar year = [];\r\n");
      out.write("\tvar cnt = [];\r\n");
      out.write("\tvar yearMap = JSON.parse('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${yearMap}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("');\r\n");
      out.write("\tvar lb = \"\";\r\n");
      out.write("\t\r\n");
      out.write("   if(res != 'undefined' && res != null) {\r\n");
      out.write("\t   lb = '단위 : 원';\r\n");
      out.write("\t   for(var i = 0; i < res.length; i++){\r\n");
      out.write("\t\t\tyear.push(res[i].년도);\r\n");
      out.write("\t\t\tcnt.push(res[i].결과);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t   }else{\r\n");
      out.write("\t\t   lb = '단위 : 명';\r\n");
      out.write("\t\tfor(var i = 0; i < yearMap.length; i++){\r\n");
      out.write("\t\t\tyear.push(yearMap[i].년도);\r\n");
      out.write("\t\t\tcnt.push(yearMap[i].결과);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t   }\r\n");
      out.write("\tvar yearChart = new Chart(ct_m, {\r\n");
      out.write("\t    type: 'line',\r\n");
      out.write("\t    data: {\r\n");
      out.write("\t        labels: [year[0], year[1], year[2], year[3], year[4]], \r\n");
      out.write("\t        datasets: [{\r\n");
      out.write("\t            label: lb,\r\n");
      out.write("\t            data: [cnt[0], cnt[1], cnt[2], cnt[3], cnt[4]],\r\n");
      out.write("\t            backgroundColor: [\r\n");
      out.write("\t                'rgba(255, 99, 132, 0.2)',\r\n");
      out.write("\t                'rgba(54, 162, 235, 0.2)',\r\n");
      out.write("\t                'rgba(255, 206, 86, 0.2)',\r\n");
      out.write("\t                'rgba(75, 192, 192, 0.2)',\r\n");
      out.write("\t                'rgba(153, 102, 255, 0.2)',\r\n");
      out.write("\t                'rgba(255, 159, 64, 0.2)'\r\n");
      out.write("\t            ],\r\n");
      out.write("\t            borderColor: [\r\n");
      out.write("\t                'rgba(255, 99, 132, 1)',\r\n");
      out.write("\t                'rgba(54, 162, 235, 1)',\r\n");
      out.write("\t                'rgba(255, 206, 86, 1)',\r\n");
      out.write("\t                'rgba(75, 192, 192, 1)',\r\n");
      out.write("\t                'rgba(153, 102, 255, 1)',\r\n");
      out.write("\t                'rgba(255, 159, 64, 1)'\r\n");
      out.write("\t            ],\r\n");
      out.write("\t            borderWidth: 1\r\n");
      out.write("\t        }]\r\n");
      out.write("\t    },\r\n");
      out.write("\t    options: {\r\n");
      out.write("\t        scales: {\r\n");
      out.write("\t            yAxes: [{\r\n");
      out.write("\t                ticks: {\r\n");
      out.write("\t                    beginAtZero: true\r\n");
      out.write("\t                }\r\n");
      out.write("\t            }]\r\n");
      out.write("\t        }\r\n");
      out.write("\t    }\r\n");
      out.write("\t});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function selectMonth(p){\r\n");
      out.write("\tsecAmount = [];\r\n");
      out.write("\tif(p.id == \"selectMonthSales\"){\r\n");
      out.write("\t\tselectDate = p.value.replaceAll(\"-\", \"\");\r\n");
      out.write("\t\tdata = {};\r\n");
      out.write("\t\tdata[\"selectDate\"] = selectDate;\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl:\"/stats/monthAmount\",\r\n");
      out.write("\t\t\tdata: data,\r\n");
      out.write("\t\t\tmethod:\"get\",\r\n");
      out.write("\t\t\tdataType:\"json\",\r\n");
      out.write("\t\t\tsuccess: function(res){\r\n");
      out.write("\t\t\t\tsecAmount.push(res.sec1);\r\n");
      out.write("\t\t\t\tsecAmount.push(res.sec2);\r\n");
      out.write("\t\t\t\tsecAmount.push(res.sec3);\r\n");
      out.write("\r\n");
      out.write("\t\t\t\tmonthChart_m(ct_monthSales,secAmount);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t}else{\r\n");
      out.write("\tselectDate = p.value.replaceAll(\"-\", \"\");\r\n");
      out.write("\tdata= {};\r\n");
      out.write("\tdata[\"selectDate\"] = selectDate;\r\n");
      out.write("\t\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\turl:\"/stats/month\",\r\n");
      out.write("\t\tdata: data,\r\n");
      out.write("\t\tmethod:\"get\",\r\n");
      out.write("\t\tdataType:\"json\",\r\n");
      out.write("\t\tsuccess: function(res){\r\n");
      out.write("\t\t\tsec1 = res.sec1;\r\n");
      out.write("\t\t\tsec2 = res.sec2;\r\n");
      out.write("\t\t\tsec3 = res.sec3;\r\n");
      out.write("\t\t\t// 월별 환자 수\r\n");
      out.write("\t\t\tvar ct_m = document.getElementById('monthChart').getContext('2d');\r\n");
      out.write("\t\t\tvar monthChart = new Chart(ct_m, {\r\n");
      out.write("\t\t\t    type: 'pie',\r\n");
      out.write("\t\t\t    data: {\r\n");
      out.write("\t\t\t        labels: [\"내과\", \"외과\", \"정형외과\"], //월화수목금토일\r\n");
      out.write("\t\t\t        datasets: [{\r\n");
      out.write("\t\t\t            label: '# of Votes',\r\n");
      out.write("\t\t\t            data: [sec1,sec2,sec3],\r\n");
      out.write("\t\t\t            backgroundColor: [\r\n");
      out.write("\t\t\t                'rgba(255, 99, 132, 0.2)',\r\n");
      out.write("\t\t\t                'rgba(54, 162, 235, 0.2)',\r\n");
      out.write("\t\t\t                'rgba(255, 206, 86, 0.2)',\r\n");
      out.write("\t\t\t                'rgba(75, 192, 192, 0.2)',\r\n");
      out.write("\t\t\t                'rgba(153, 102, 255, 0.2)',\r\n");
      out.write("\t\t\t                'rgba(255, 159, 64, 0.2)'\r\n");
      out.write("\t\t\t            ],\r\n");
      out.write("\t\t\t            borderColor: [\r\n");
      out.write("\t\t\t                'rgba(255, 99, 132, 1)',\r\n");
      out.write("\t\t\t                'rgba(54, 162, 235, 1)',\r\n");
      out.write("\t\t\t                'rgba(255, 206, 86, 1)',\r\n");
      out.write("\t\t\t                'rgba(75, 192, 192, 1)',\r\n");
      out.write("\t\t\t                'rgba(153, 102, 255, 1)',\r\n");
      out.write("\t\t\t                'rgba(255, 159, 64, 1)'\r\n");
      out.write("\t\t\t            ],\r\n");
      out.write("\t\t\t            borderWidth: 1\r\n");
      out.write("\t\t\t        }]\r\n");
      out.write("\t\t\t    },\r\n");
      out.write("\t\t\t    options: {\r\n");
      out.write("\t\t\t        scales: {\r\n");
      out.write("\t\t\t            yAxes: [{\r\n");
      out.write("\t\t\t                ticks: {\r\n");
      out.write("\t\t\t                    beginAtZero: true\r\n");
      out.write("\t\t\t                }\r\n");
      out.write("\t\t\t            }]\r\n");
      out.write("\t\t\t        }\r\n");
      out.write("\t\t\t    }\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("  }\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function yearChartM_m(ct_m, res){\r\n");
      out.write("\t// 월별 통계\r\n");
      out.write("\tvar yearChart = new Chart(ct_m, {\r\n");
      out.write("\t    type: 'bar',\r\n");
      out.write("\t    data: {\r\n");
      out.write("\t        labels: [\"1월\",\"2월\",\"3월\",\"4월\",\"5월\",\"6월\",\"7월\",\"8월\",\"9월\",\"10월\",\"11월\",\"12월\"], \r\n");
      out.write("\t        datasets: [{\r\n");
      out.write("\t            label: '# of Votes',\r\n");
      out.write("\t            data: [res[\"1월\"],res[\"2월\"],res[\"3월\"],res[\"4월\"],res[\"5월\"],res[\"6월\"],res[\"7월\"],res[\"8월\"],res[\"9월\"],res[\"10월\"],res[\"11월\"],res[\"12월\"]],\r\n");
      out.write("\t            backgroundColor: [\r\n");
      out.write("\t                'rgba(255, 99, 132, 0.2)',\r\n");
      out.write("\t                'rgba(54, 162, 235, 0.2)',\r\n");
      out.write("\t                'rgba(255, 206, 86, 0.2)',\r\n");
      out.write("\t                'rgba(75, 192, 192, 0.2)',\r\n");
      out.write("\t                'rgba(153, 102, 255, 0.2)',\r\n");
      out.write("\t                'rgba(255, 159, 64, 0.2)'\r\n");
      out.write("\t            ],\r\n");
      out.write("\t            borderColor: [\r\n");
      out.write("\t                'rgba(255, 99, 132, 1)',\r\n");
      out.write("\t                'rgba(54, 162, 235, 1)',\r\n");
      out.write("\t                'rgba(255, 206, 86, 1)',\r\n");
      out.write("\t                'rgba(75, 192, 192, 1)',\r\n");
      out.write("\t                'rgba(153, 102, 255, 1)',\r\n");
      out.write("\t                'rgba(255, 159, 64, 1)'\r\n");
      out.write("\t            ],\r\n");
      out.write("\t            borderWidth: 1\r\n");
      out.write("\t        }]\r\n");
      out.write("\t    },\r\n");
      out.write("\t    options: {\r\n");
      out.write("\t        scales: {\r\n");
      out.write("\t            yAxes: [{\r\n");
      out.write("\t                ticks: {\r\n");
      out.write("\t                    beginAtZero: true\r\n");
      out.write("\t                }\r\n");
      out.write("\t            }]\r\n");
      out.write("\t        }\r\n");
      out.write("\t    }\r\n");
      out.write("\t});\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("$(function(){\r\n");
      out.write("\t\r\n");
      out.write("\t// 환자버튼 클릭하면 nav버튼 클릭되어있고, 환자차트 화면 나오게\r\n");
      out.write("\t$('#patientBtn').on(\"click\", function(){\r\n");
      out.write("\t\t$('.navBtn').css('background', 'white');\r\n");
      out.write("\t\t$('#patientBtn').css('background', '#f5dcf7');\r\n");
      out.write("\t\t$('.includeJSP').css('display','none');\r\n");
      out.write("\t\t$('#patientJSP').css('display','block');\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$('.sDate').val(\"\");\r\n");
      out.write("\t\t$('.eDate').val(\"\");\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tdayChart_m(ct_todayChart);\r\n");
      out.write("\t\tweekChart_m(ct_weekChart);\r\n");
      out.write("\t\tmonthChart_m(ct_monthChart);\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t//매출탭 클릭 시 \r\n");
      out.write("\t$('#salesBtn').on(\"click\", function(){\r\n");
      out.write("\t\t$('.navBtn').css('background', 'white');\r\n");
      out.write("\t\t$('#salesBtn').css('background', '#f5dcf7');\r\n");
      out.write("\t\t$('.includeJSP').css('display','none');\r\n");
      out.write("\t\t$('#salesJSP').css('display','block');\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$('.sDate').val(\"\");\r\n");
      out.write("\t\t$('.eDate').val(\"\");\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tsec = [];\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl:\"/stats/deptAmount\",\r\n");
      out.write("// \t\t\tdata: data,\r\n");
      out.write("\t\t\tmethod:\"get\",\r\n");
      out.write("\t\t\tdataType:\"json\",\r\n");
      out.write("\t\t\tsuccess: function(res){\r\n");
      out.write("\t\t\t\tresult = JSON.parse(res);\r\n");
      out.write("\t\t\t\tsec.push(result.SEC1);\r\n");
      out.write("\t\t\t\tsec.push(result.SEC2);\r\n");
      out.write("\t\t\t\tsec.push(result.SEC3);\r\n");
      out.write("\t\t\t\tdayChart_m(ct_todaySales,sec);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl:\"/stats/weekAmount\",\r\n");
      out.write("// \t\t\tdata: data,\r\n");
      out.write("\t\t\tmethod:\"get\",\r\n");
      out.write("\t\t\tdataType:\"json\",\r\n");
      out.write("\t\t\tsuccess: function(res){\r\n");
      out.write("\t\t\t\tamount.push(res.today);\r\n");
      out.write("\t\t\t\tamount.push(res.dayAgo1);\r\n");
      out.write("\t\t\t\tamount.push(res.dayAgo2);\r\n");
      out.write("\t\t\t\tamount.push(res.dayAgo3);\r\n");
      out.write("\t\t\t\tamount.push(res.dayAgo4);\r\n");
      out.write("\t\t\t\tamount.push(res.dayAgo5);\r\n");
      out.write("\t\t\t\tamount.push(res.dayAgo6);\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\tweekChart_m(ct_weekSales,amount);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl:\"/stats/monthAmount\",\r\n");
      out.write("// \t\t\tdata: data,\r\n");
      out.write("\t\t\tmethod:\"get\",\r\n");
      out.write("\t\t\tdataType:\"json\",\r\n");
      out.write("\t\t\tsuccess: function(res){\r\n");
      out.write("\t\t\t\tsecAmount.push(res.sec1);\r\n");
      out.write("\t\t\t\tsecAmount.push(res.sec2);\r\n");
      out.write("\t\t\t\tsecAmount.push(res.sec3);\r\n");
      out.write("\r\n");
      out.write("\t\t\t\tmonthChart_m(ct_monthSales,secAmount);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t\r\n");
      out.write("// \t\t$.ajax({\r\n");
      out.write("// \t\t\turl:\"/stats/yearAmount\",\r\n");
      out.write("// \t\t\tdata: data,\r\n");
      out.write("// \t\t\tmethod:\"get\",\r\n");
      out.write("// \t\t\tdataType:\"json\",\r\n");
      out.write("// \t\t\tsuccess: function(res){\r\n");
      out.write("// \t\t\t\tyearChart_m(ct_yearSales, res);\r\n");
      out.write("// \t\t\t}\r\n");
      out.write("// \t\t});\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl:\"/stats/selectYearSales\",\r\n");
      out.write("// \t\t\tdata: data,\r\n");
      out.write("\t\t\tmethod:\"get\",\r\n");
      out.write("\t\t\tdataType:\"json\",\r\n");
      out.write("\t\t\tsuccess: function(res){\r\n");
      out.write("\t\t\t\tresult = JSON.parse(res);\r\n");
      out.write("\t\t\t\tyearChart_m(ct_yearSales, result);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t})\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t// 질병탭 클릭 시\r\n");
      out.write("\t$('#diseaseBtn').on(\"click\", function(){\r\n");
      out.write("\t\t$('.navBtn').css('background', 'white');\r\n");
      out.write("\t\t$('#diseaseBtn').css('background', '#f5dcf7');\r\n");
      out.write("\t\t$('.includeJSP').css('display','none');\r\n");
      out.write("\t\t$('#diseaseJSP').css('display','block');\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$('.sDate').val(\"\");\r\n");
      out.write("\t\t$('.eDate').val(\"\");\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl:\"/stats/selectDiseaseRank\",\r\n");
      out.write("// \t\t\tdata:data,\r\n");
      out.write("\t\t\tmethod:\"get\",\r\n");
      out.write("\t\t\tdataType:\"json\",\r\n");
      out.write("\t\t\tsuccess: function(res){\r\n");
      out.write("\t\t\t\tdata = JSON.parse(res);\r\n");
      out.write("\t\t\t\tconsole.log(data);\r\n");
      out.write("\t\t\t\tlength = Object.keys(data[0]).length;\r\n");
      out.write("// \t\t\t\tlength = data[0].length;\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\tdisNm = [];\r\n");
      out.write("\t\t\t\tdisSum = [];\r\n");
      out.write("\t\t    \t\tfor(var i = 0; i < length; i++){\r\n");
      out.write("\t\t    \t\t\tdisNm.push(data[i].질병명);\r\n");
      out.write("\t\t\t    \t\tdisSum.push(data[i].합계);\r\n");
      out.write("\t\t\t    \t}\r\n");
      out.write("\t    \t\tvar ct_mainDisease = document.getElementById('mainDisease').getContext('2d');\r\n");
      out.write("\t\t\t\tvar diseaseChart = new Chart(ct_mainDisease, {\r\n");
      out.write("\t\t\t\t    type: 'bar',\r\n");
      out.write("\t\t\t\t    data: {\r\n");
      out.write("// \t\t\t\t        labels: [\"내과\", \"외과\", \"정형외과\"], \r\n");
      out.write("\t\t\t\t        labels: disNm, \r\n");
      out.write("\t\t\t\t        datasets: [{\r\n");
      out.write("\t\t\t\t            label: '단위 : 건수',\r\n");
      out.write("// \t\t\t\t            data: [1,2,3],\r\n");
      out.write("\t\t\t\t            data: disSum,\r\n");
      out.write("\t\t\t\t            backgroundColor: [\r\n");
      out.write("\t\t\t\t                'rgba(255, 99, 132, 0.2)',\r\n");
      out.write("\t\t\t\t                'rgba(54, 162, 235, 0.2)',\r\n");
      out.write("\t\t\t\t                'rgba(255, 206, 86, 0.2)',\r\n");
      out.write("\t\t\t\t                'rgba(75, 192, 192, 0.2)',\r\n");
      out.write("\t\t\t\t                'rgba(153, 102, 255, 0.2)',\r\n");
      out.write("\t\t\t\t                'rgba(255, 159, 64, 0.2)'\r\n");
      out.write("\t\t\t\t            ],\r\n");
      out.write("\t\t\t\t            borderColor: [\r\n");
      out.write("\t\t\t\t                'rgba(255, 99, 132, 1)',\r\n");
      out.write("\t\t\t\t                'rgba(54, 162, 235, 1)',\r\n");
      out.write("\t\t\t\t                'rgba(255, 206, 86, 1)',\r\n");
      out.write("\t\t\t\t                'rgba(75, 192, 192, 1)',\r\n");
      out.write("\t\t\t\t                'rgba(153, 102, 255, 1)',\r\n");
      out.write("\t\t\t\t                'rgba(255, 159, 64, 1)'\r\n");
      out.write("\t\t\t\t            ],\r\n");
      out.write("\t\t\t\t            borderWidth: 1\r\n");
      out.write("\t\t\t\t        }]\r\n");
      out.write("\t\t\t\t    },\r\n");
      out.write("\t\t\t\t    options: {\r\n");
      out.write("\t\t\t\t        scales: {\r\n");
      out.write("\t\t\t\t            yAxes: [{\r\n");
      out.write("\t\t\t\t                ticks: {\r\n");
      out.write("\t\t\t\t                    beginAtZero: true\r\n");
      out.write("\t\t\t\t                }\r\n");
      out.write("\t\t\t\t            }]\r\n");
      out.write("\t\t\t\t        }\r\n");
      out.write("\t\t\t\t    }\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t})\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t$('#symptomBtn').on(\"click\", function(){\r\n");
      out.write("\t\t$('.navBtn').css('background', 'white');\r\n");
      out.write("\t\t$('#symptomBtn').css('background', '#f5dcf7');\r\n");
      out.write("\t\t$('.includeJSP').css('display','none');\r\n");
      out.write("\t\t$('#symptomJSP').css('display','block');\r\n");
      out.write("\t});\r\n");
      out.write("\t$('.yearpicker').yearpicker();\t\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\t$('#selectMonth').val(new Date().toISOString().slice(0, 7));\r\n");
      out.write("\t$('#selectMonthSales').val(new Date().toISOString().slice(0, 7));\r\n");
      out.write("\t$('#selectYear').val(\"년도 선택\");\r\n");
      out.write("\t$('#selectYearSales').val(\"년도 선택\");\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\t// 연도선택 버튼 클릭 시\r\n");
      out.write("\t$('.yearpicker').on('change',function(){\r\n");
      out.write("\t\t// 매출탭에서 연도 선택 시 매출 통계\r\n");
      out.write("\t\tif(this.id == \"selectYearSales\"){\r\n");
      out.write("\t\t\tvar selectYear = $(this).val();\r\n");
      out.write("\t\t\tdata= {};\r\n");
      out.write("\t\t\tdata[\"selectYear\"] = selectYear;\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\turl:\"/stats/yearAmount\",\r\n");
      out.write("\t\t\t\tdata: data,\r\n");
      out.write("\t\t\t\tmethod:\"get\",\r\n");
      out.write("\t\t\t\tdataType:\"json\",\r\n");
      out.write("\t\t\t\tsuccess: function(res){\r\n");
      out.write("\t\t\t\t\tyearChartM_m(ct_yearSales,res);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\t// 기본은 환자 연간 통계 차트에 출력\r\n");
      out.write("\t\tvar selectYear = $(this).val();\r\n");
      out.write("\t\tdata= {};\r\n");
      out.write("\t\tdata[\"selectYear\"] = selectYear;\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl:\"/stats/year\",\r\n");
      out.write("\t\t\tdata: data,\r\n");
      out.write("\t\t\tmethod:\"get\",\r\n");
      out.write("\t\t\tdataType:\"json\",\r\n");
      out.write("\t\t\tsuccess: function(res){\r\n");
      out.write("\t\t\t\tyearChartM_m(ct_yearChart,res);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t  });\r\n");
      out.write("\t\t};\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t// 검색 시작기간과 종료기간을 선택했을 시 \r\n");
      out.write("\t$('.eDate').on('change', function(){\r\n");
      out.write("\t\tsdate = $(this).siblings('.sDate').val();\r\n");
      out.write("\t\tedate = $(this).val();\r\n");
      out.write("\t\tid = $(this).attr('id');\r\n");
      out.write("\t\tdata = {};\r\n");
      out.write("\t\t\tdata[\"startDate\"] = sdate.replaceAll(\"-\", \"\");\r\n");
      out.write("\t\t\tdata[\"endDate\"] = edate.replaceAll(\"-\", \"\");\r\n");
      out.write("\t\tif(sdate > edate){\r\n");
      out.write("\t\t\talert(\"종료일은 시작일 이후여야 합니다.다시 선택 해주세요.\")\r\n");
      out.write("\t\t\t$(this).val(\"\");\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t// 질병탭에서 기간을 선택했을 경우\r\n");
      out.write("\t\tif(id == \"diseaseEdate\"){\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl:\"/stats/selectDiseaseRank\",\r\n");
      out.write("\t\t\tdata:data,\r\n");
      out.write("\t\t\tmethod:\"get\",\r\n");
      out.write("\t\t\tdataType:\"json\",\r\n");
      out.write("\t\t\tsuccess: function(res){\r\n");
      out.write("\t\t\t\tresData = JSON.parse(res);\r\n");
      out.write("\t\t\t\tlength = resData.length;\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\tdisNm = [];\r\n");
      out.write("\t\t\t\tdisSum = [];\r\n");
      out.write("\t\t    \t\tfor(var i = 0; i < length; i++){\r\n");
      out.write("\t\t    \t\t\tdisNm.push(resData[i].질병명);\r\n");
      out.write("\t\t\t    \t\tdisSum.push(resData[i].합계);\r\n");
      out.write("\t\t\t    \t}\r\n");
      out.write("\t    \t\tvar ct_mainDisease = document.getElementById('mainDisease').getContext('2d');\r\n");
      out.write("\t\t\t\tvar diseaseChart = new Chart(ct_mainDisease, {\r\n");
      out.write("\t\t\t\t    type: 'bar',\r\n");
      out.write("\t\t\t\t    data: {\r\n");
      out.write("// \t\t\t\t        labels: [\"내과\", \"외과\", \"정형외과\"], \r\n");
      out.write("\t\t\t\t        labels: disNm, \r\n");
      out.write("\t\t\t\t        datasets: [{\r\n");
      out.write("\t\t\t\t            label: '# of Votes',\r\n");
      out.write("// \t\t\t\t            data: [1,2,3],\r\n");
      out.write("\t\t\t\t            data: disSum,\r\n");
      out.write("\t\t\t\t            backgroundColor: [\r\n");
      out.write("\t\t\t\t                'rgba(255, 99, 132, 0.2)',\r\n");
      out.write("\t\t\t\t                'rgba(54, 162, 235, 0.2)',\r\n");
      out.write("\t\t\t\t                'rgba(255, 206, 86, 0.2)',\r\n");
      out.write("\t\t\t\t                'rgba(75, 192, 192, 0.2)',\r\n");
      out.write("\t\t\t\t                'rgba(153, 102, 255, 0.2)',\r\n");
      out.write("\t\t\t\t                'rgba(255, 159, 64, 0.2)'\r\n");
      out.write("\t\t\t\t            ],\r\n");
      out.write("\t\t\t\t            borderColor: [\r\n");
      out.write("\t\t\t\t                'rgba(255, 99, 132, 1)',\r\n");
      out.write("\t\t\t\t                'rgba(54, 162, 235, 1)',\r\n");
      out.write("\t\t\t\t                'rgba(255, 206, 86, 1)',\r\n");
      out.write("\t\t\t\t                'rgba(75, 192, 192, 1)',\r\n");
      out.write("\t\t\t\t                'rgba(153, 102, 255, 1)',\r\n");
      out.write("\t\t\t\t                'rgba(255, 159, 64, 1)'\r\n");
      out.write("\t\t\t\t            ],\r\n");
      out.write("\t\t\t\t            borderWidth: 1\r\n");
      out.write("\t\t\t\t        }]\r\n");
      out.write("\t\t\t\t    },\r\n");
      out.write("\t\t\t\t    options: {\r\n");
      out.write("\t\t\t\t        scales: {\r\n");
      out.write("\t\t\t\t            yAxes: [{\r\n");
      out.write("\t\t\t\t                ticks: {\r\n");
      out.write("\t\t\t\t                    beginAtZero: true\r\n");
      out.write("\t\t\t\t                }\r\n");
      out.write("\t\t\t\t            }]\r\n");
      out.write("\t\t\t\t        }\r\n");
      out.write("\t\t\t\t    }\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t})\r\n");
      out.write("\t\t// 매출 탭에서 기간 선택 시\r\n");
      out.write("\t   }else if(id == \"salesEDate\"){\r\n");
      out.write("\t\t   sec = [];\r\n");
      out.write("\t\t   $.ajax({\r\n");
      out.write("\t\t\t\turl:\"/stats/deptAmount\",\r\n");
      out.write("\t \t\t\tdata: data,\r\n");
      out.write("\t\t\t\tmethod:\"get\",\r\n");
      out.write("\t\t\t\tdataType:\"json\",\r\n");
      out.write("\t\t\t\tsuccess: function(res){\r\n");
      out.write("\t\t\t\t\tresData = JSON.parse(res);\r\n");
      out.write("\t\t\t\t\tsec.push(resData.SEC1);\r\n");
      out.write("\t\t\t\t\tsec.push(resData.SEC2);\r\n");
      out.write("\t\t\t\t\tsec.push(resData.SEC3);\r\n");
      out.write("\t\t\t\t\tdayChart_m(ct_todaySales,sec);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t   } //else if(id == \"salesEDate\") 끝\r\n");
      out.write("\t   // 환자탭에서 기간 선택 시 \r\n");
      out.write("\t   else if(id == \"patientEdate\"){\r\n");
      out.write("\t\t   sec = [];\r\n");
      out.write("\t\t   $.ajax({\r\n");
      out.write("\t\t\t\turl:\"/stats/selectDatePatient\",\r\n");
      out.write("\t \t\t\tdata: data,\r\n");
      out.write("\t\t\t\tmethod:\"get\",\r\n");
      out.write("\t\t\t\tdataType:\"json\",\r\n");
      out.write("\t\t\t\tsuccess: function(res){\r\n");
      out.write("\t\t\t\t\tresData = JSON.parse(res);\r\n");
      out.write("\t\t\t\t\tsec.push(resData.SEC1);\r\n");
      out.write("\t\t\t\t\tsec.push(resData.SEC2);\r\n");
      out.write("\t\t\t\t\tsec.push(resData.SEC3);\r\n");
      out.write("\t\t\t\t\tdayChart_m(ct_todayChart,sec);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t   }\r\n");
      out.write("\t\t//기타탭에서 기간 선택 시\r\n");
      out.write("\t\telse if(id == \"docterEdate\"){\r\n");
      out.write("\t\t\tif($('#doctorName').text() == \"\"){\r\n");
      out.write("\t\t\t\talert(\"먼저 조회할 의사를 선택해주세요.\");\r\n");
      out.write("\t\t\t\t$('#docterSdate').val(\"\");\r\n");
      out.write("\t\t\t\t$('#docterEdate').val(\"\");\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tdata={};\r\n");
      out.write("\t\t\tdata[\"startDate\"] = $('#docterSdate').val().replaceAll(\"-\",\"\");\r\n");
      out.write("\t\t\tdata[\"endDate\"] = $('#docterEdate').val().replaceAll(\"-\",\"\");\r\n");
      out.write("\t\t\tdata[\"empCd\"] = $('#doctorName').val();\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t $.ajax({\r\n");
      out.write("\t\t\t\t\turl:\"/stats/selectDoctorSales\",\r\n");
      out.write("\t\t \t\t\tdata: data,\r\n");
      out.write("\t\t\t\t\tmethod:\"get\",\r\n");
      out.write("\t\t\t\t\tdataType:\"json\",\r\n");
      out.write("\t\t\t\t\tsuccess: function(res){\r\n");
      out.write("\t\t\t\t\t\tresData = JSON.parse(res);\r\n");
      out.write("\t\t\t\t\t\tamount = resData.SUM;\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\tvar salesChart = new Chart(ct_docterSales, {\r\n");
      out.write("\t\t\t\t\t\t    type: 'pie',\r\n");
      out.write("\t\t\t\t\t\t    data: {\r\n");
      out.write("\t\t\t\t\t\t        labels: [\"총 매출\"],\r\n");
      out.write("\t\t\t\t\t\t        datasets: [{\r\n");
      out.write("\t\t\t\t\t\t            label: '# of Votes',\r\n");
      out.write("\t\t\t\t\t\t            data: [amount],\r\n");
      out.write("\t\t\t\t\t\t            backgroundColor: [\r\n");
      out.write("\t\t\t\t\t\t                'rgba(255, 99, 132, 0.2)',\r\n");
      out.write("\t\t\t\t\t\t                'rgba(54, 162, 235, 0.2)',\r\n");
      out.write("\t\t\t\t\t\t                'rgba(255, 206, 86, 0.2)',\r\n");
      out.write("\t\t\t\t\t\t                'rgba(75, 192, 192, 0.2)',\r\n");
      out.write("\t\t\t\t\t\t                'rgba(153, 102, 255, 0.2)',\r\n");
      out.write("\t\t\t\t\t\t                'rgba(255, 159, 64, 0.2)'\r\n");
      out.write("\t\t\t\t\t\t            ],\r\n");
      out.write("\t\t\t\t\t\t            borderColor: [\r\n");
      out.write("\t\t\t\t\t\t                'rgba(255, 99, 132, 1)',\r\n");
      out.write("\t\t\t\t\t\t                'rgba(54, 162, 235, 1)',\r\n");
      out.write("\t\t\t\t\t\t                'rgba(255, 206, 86, 1)',\r\n");
      out.write("\t\t\t\t\t\t                'rgba(75, 192, 192, 1)',\r\n");
      out.write("\t\t\t\t\t\t                'rgba(153, 102, 255, 1)',\r\n");
      out.write("\t\t\t\t\t\t                'rgba(255, 159, 64, 1)'\r\n");
      out.write("\t\t\t\t\t\t            ],\r\n");
      out.write("\t\t\t\t\t\t            borderWidth: 1\r\n");
      out.write("\t\t\t\t\t\t        }]\r\n");
      out.write("\t\t\t\t\t\t    },\r\n");
      out.write("\t\t\t\t\t\t    options: {\r\n");
      out.write("\t\t\t\t\t\t        scales: {\r\n");
      out.write("\t\t\t\t\t\t            yAxes: [{\r\n");
      out.write("\t\t\t\t\t\t                ticks: {\r\n");
      out.write("\t\t\t\t\t\t                    beginAtZero: true\r\n");
      out.write("\t\t\t\t\t\t                }\r\n");
      out.write("\t\t\t\t\t\t            }]\r\n");
      out.write("\t\t\t\t\t\t        }\r\n");
      out.write("\t\t\t\t\t\t    }\r\n");
      out.write("\t\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t });\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\t})\r\n");
      out.write("\t\r\n");
      out.write("\t// 의사조회 부서선택 시 \r\n");
      out.write("\t$('#selectSec').on('change', function(){\r\n");
      out.write("\t\tsecCd = $(this).val();\r\n");
      out.write("\t\tsecName = $(\"#selectSec option:checked\").text();\r\n");
      out.write("\t\tdata = {};\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tdata[\"secCd\"]=secCd; \r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl:\"/stats/selectSec\",\r\n");
      out.write("\t\t\tdata:data,\r\n");
      out.write("\t\t\tmethod:\"get\",\r\n");
      out.write("\t\t\tdataType:\"json\",\r\n");
      out.write("\t\t\ttraditional:true,\r\n");
      out.write("\t\t\tsuccess: function(res){\r\n");
      out.write("\t\t\t\tdata = res;\r\n");
      out.write("\t\t\t\tstr = \"\";\r\n");
      out.write("\t\t\t\tfor(i = 0; i < data.length; i++){\r\n");
      out.write("\t\t\t\t\tstr += '<tr role=\"row\" class=\"odd\">' \r\n");
      out.write("\t\t\t\t\tstr += '<th scope=\"row\" tabindex=\"0\" class=\"sorting_1\">'+data[i].empCd+'</th>'\r\n");
      out.write("\t\t\t\t\tstr += '<td><img src=\"'+data[i].empPic + '\" style=\"width:80px;height:60px;\"></td>'\r\n");
      out.write("\t\t\t\t\tstr += '<td><button class=\"btn btn-outline-success selectDoctorBtn\" type=\"button\" value=\"'+ data[i].empCd + '\">'+data[i].empNm + '</button></td>'\r\n");
      out.write("\t\t\t\t\tstr += '<td>' + data[i].secNm + '</td>'\r\n");
      out.write("\t\t\t\t\tstr += '<td>' + data[i].position + '</td>'\r\n");
      out.write("\t\t\t\t\tstr += '</tr>';\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\t$('#doctorSales').append(str);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$('#exampleModalLabel').text(secName + \" 직원목록\");\r\n");
      out.write("\t\t$('#writeModal').modal(\"show\");\r\n");
      out.write("\t})\r\n");
      out.write("\t\r\n");
      out.write("\t// 동적생성된 의사이름 버튼 클릭 시 \r\n");
      out.write("\t$(document).on(\"click\",\".selectDoctorBtn\",function(){\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\tempNm = $(this).text();\r\n");
      out.write("\t\t\tempCd = $(this).val();\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t$('#doctorName').text(empNm);\r\n");
      out.write("\t\t\t$('#doctorName').val(empCd);\r\n");
      out.write("\t\t\t$('#doctorName').attr(\"hidden\", false);\r\n");
      out.write("\t\t\t$('#doctorSales').empty();\r\n");
      out.write("\t\t\t$('#writeModal').modal(\"hide\");\r\n");
      out.write("\t});\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
      out.write("<!----------------- 직원등록  Modal 시작-------------------->\r\n");
      out.write("\t\t<div class=\"modal fade\" id=\"writeModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("\t\t\t<div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("\t\t\t\t<div class=\"modal-content\">\r\n");
      out.write("\t\t\t\t\t<div class=\"modal-header\">\r\n");
      out.write("\t\t\t\t\t\t<h2 class=\"modal-title\" id=\"exampleModalLabel\"></h2>\r\n");
      out.write("\t\t\t\t\t\t<button class=\"close\" type=\"button\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("\t\t\t\t\t\t\t<span aria-hidden=\"true\">X</span>\r\n");
      out.write("\t\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"modal-body\">\r\n");
      out.write("\t\t\t\t\t\t<div id=\"ajaxTable\">\r\n");
      out.write("<div class=\"QA_table mb_30 list\" id=\"dept\">\r\n");
      out.write("\r\n");
      out.write("<div id=\"DataTables_Table_0_wrapper\" class=\"dataTables_wrapper no-footer\">\r\n");
      out.write("\t<table class=\"table lms_table_active dataTable no-footer dtr-inline\" id=\"DataTables_Table_0\" role=\"grid\" aria-describedby=\"DataTables_Table_0_info\" style=\"width: 1175px;\">\r\n");
      out.write("\t\t<thead>\r\n");
      out.write("\t\t<tr role=\"row\">\r\n");
      out.write("\t\t\t<th scope=\"col\" class=\"sorting_asc\" tabindex=\"0\" aria-controls=\"DataTables_Table_0\" rowspan=\"1\" colspan=\"1\" style=\"width: 99px;\" aria-sort=\"ascending\" aria-label=\"title: activate to sort column descending\">사번</th>\r\n");
      out.write("\t\t\t<th scope=\"col\" class=\"sorting\" tabindex=\"0\" aria-controls=\"DataTables_Table_0\" rowspan=\"1\" colspan=\"1\" style=\"width: 141px;\" aria-label=\"Category: activate to sort column ascending\">  </th>\r\n");
      out.write("\t\t\t<th scope=\"col\" class=\"sorting\" tabindex=\"0\" aria-controls=\"DataTables_Table_0\" rowspan=\"1\" colspan=\"1\" style=\"width: 141px;\" aria-label=\"Category: activate to sort column ascending\">이름</th>\r\n");
      out.write("\t\t\t<th scope=\"col\" class=\"sorting\" tabindex=\"0\" aria-controls=\"DataTables_Table_0\" rowspan=\"1\" colspan=\"1\" style=\"width: 130px;\" aria-label=\"Lesson: activate to sort column ascending\">부서</th>\r\n");
      out.write("\t\t\t<th scope=\"col\" class=\"sorting\" tabindex=\"0\" aria-controls=\"DataTables_Table_0\" rowspan=\"1\" colspan=\"1\" style=\"width: 76px;\" aria-label=\"Enrolled: activate to sort column ascending\">직급</th>\r\n");
      out.write("\t\t</tr>\r\n");
      out.write("\t\t</thead>\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t<tbody id=\"doctorSales\">\r\n");
      out.write("\r\n");
      out.write("\t\t</tbody>\r\n");
      out.write("\t\t</table>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<!----------------- 직원등록 Modal 끝-------------------->\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
